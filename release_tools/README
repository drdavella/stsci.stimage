set repo=https://svn.stsci.edu/svn/ssb/stsci_python/stsci_python

set branch=release_2011_08

set VER=2.12


How to make an stsci_python release branch
--

# Make a branch of stsc_python in the stsci_python repository.

svn copy  $repo/trunk  $repo/branches/$branch

# check it out
svn checkout  $repo/branches/$branch


# fix up the svn externals
cd $branch
release_tools/branch_externals

... perform the svn commands that it displays

vi setup.py
	# change the version number in the call to setup at the end of the file
	# commit the change

** abandon your checked out copy and get a new one **


How to make the release tarball
--

svn checkout  $repo/branches/$branch stsci_python
	# this will get everything through the svn:externals

cd stsci_python

find . -name .svn -exec rm -rf {} ';'

cd ..

mv stsci_python stsci_python-$VER

mkdir -p /eng/ssb/dist/$branch

tar zcf /eng/ssb/dist/$branch/stsci_python-$VER.tar.gz  stsci_python-$VER



How to test the release
--

cd to the work directory where you will do the testing

unsetenv PYTHONPATH

irafdev

echo $PYTHONPATH

setenv PYTHONPATH ...take off the part that has stsci_python in it...

svn checkout $repo/branches/$branch/release_tools 

sh release_tools/testenv
	paste the appropriate commands from what it displayed
		set path, pythonpath
		uninstall
		install setup.py

